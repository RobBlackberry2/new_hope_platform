<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ELR-041 - Espacio de Gamificaci贸n</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
  <header>
    <div class="brand">
      <div class="logo">NHS</div>
      <div>
        <div style="font-weight:700">New Hope School</div>
        <div style="font-size:12px;color:var(--muted)">P谩gina oficial</div>
      </div>
    </div>
    <nav>
      <a href="index.html">Inicio</a>
      <a href="#servicios">Administrativo</a>
      <a href="#servicios">Gesti贸n de Usuarios</a>
      <a href="#servicios">Reportes</a>
      <a href="ELR-042 - Crear Foros de Discusi贸n.html">E-Learning</a>
      <a href="index.html">Contacto</a>
    </nav>
  </header>

  <main class="hero">
    <div class="card">
      <h1>ELR-041: Espacio de Gamificaci贸n</h1>
      <p class="lead">
        <strong>Historia de usuario:</strong> Como estudiante quiero revisar mi espacio de gamificaci贸n para poder ver mis puntos y medallas obtenidas.
      </p>

      <!-- Logros obtenidos -->
      <h3>Mis Puntos y Medallas</h3>
      <div id="logros" class="lista">
        <div class="form-contenido">
          <h3>Medalla: Participaci贸n</h3>
          <p>Motivo: Participaci贸n destacada | Fecha: 10/11/2025</p>
          <button onclick="verMedalla('M1')">Ver detalle</button>
        </div>
        <div class="form-contenido">
          <h3>Puntos acumulados</h3>
          <p>Total: 150 puntos</p>
        </div>
      </div>

      <!-- Retos/Misiones disponibles -->
      <h3>Retos y Misiones Disponibles</h3>
      <div id="retos" class="lista">
        <div class="form-contenido">
          <strong>Reto Matem谩ticas</strong><br>
          Descripci贸n: Resolver 20 problemas antes del 30/11/2025<br>
          Premio:  Medalla de L贸gica
        </div>
        <div class="form-contenido">
          <strong>Misi贸n Historia</strong><br>
          Descripci贸n: Ensayo sobre independencia antes del 25/11/2025<br>
          Premio:  Medalla de Investigaci贸n
        </div>
      </div>

      <!-- Pruebas disponibles -->
      <h3>Pruebas de Gamificaci贸n Disponibles</h3>
      <div id="pruebas" class="lista">
        <div class="form-contenido">
          <strong>Trivia Ciencias</strong><br>
          Preguntas: 10 | Fecha l铆mite: 05/12/2025<br>
          Premio:  Medalla de Curiosidad
          <p></p>
          <button onclick="verMedalla('M1')">Participar</button>
        </div>
        <div class="form-contenido">
          <strong>Quiz Literatura</strong><br>
          Preguntas: 8 | Fecha l铆mite: 07/12/2025<br>
          Premio:  Medalla de Creatividad
          <p></p>
          <button onclick="verMedalla('M1')">Participar</button>
        </div>
      </div>

      <!-- Mensajes -->
      <div id="mensaje" class="msg"></div>
    </div>
  </main>

  <footer>
    <div style="max-width:800px;margin:0 auto">
      漏 <span id="year"></span> New Hope Digital Learning
      <span style="color:var(--muted)">Versi贸n demo</span>
    </div>
  </footer>
</div>

</body>
</html>


<script>
  const mensaje = document.getElementById('mensaje');
  const resultado = document.getElementById('resultado');
  const lista = document.getElementById('listaGamificacion');

  function verMedalla(id){
    // Simulaci贸n de error de conexi贸n (10% probabilidad)
    const falloConexion = Math.random() < 0.1;
    if(falloConexion){
      mostrarMensaje('err','No fue posible realizar la acci贸n. Intente nuevamente m谩s tarde.');
      return;
    }

    const medalla = document.querySelector(`[data-id="${id}"]`);
    if(!medalla){
      mostrarMensaje('err','No se encontr贸 la medalla.');
      return;
    }

    const motivo = medalla.dataset.motivo;
    const fecha = new Date(medalla.dataset.fecha);

    mostrarMensaje('ok','Detalle de la medalla consultado exitosamente.');
    resultado.innerHTML = `<div class="form-contenido">
      <strong>${medalla.querySelector("h3").textContent}</strong><br>
      Motivo: ${motivo}<br>
      Fecha obtenida: ${fecha.toLocaleDateString()}
    </div>`;
  }

  function mostrarMensaje(tipo,texto){
    mensaje.className = 'msg ' + (tipo === 'ok' ? 'ok' : 'err');
    mensaje.textContent = texto;
    mensaje.style.display = 'block';
  }

  // Caso 3: Sin puntos ni medallas
  if(lista.children.length === 0){
    mostrarMensaje('ok','Actualmente no tienes puntos ni medallas. Total: 0');
    resultado.innerHTML = `<div class="form-contenido">
      Puntos: 0<br>
      Medallas: 0
    </div>`;
  }

  // A帽o din谩mico en footer
  document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>