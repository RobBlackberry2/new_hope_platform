<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ELR-041 - Espacio de GamificaciÃ³n</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="admin-container">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">NHS</div>
        <div>
          <div style="font-weight:700">New Hope School</div>
          <div style="font-size:12px;color:var(--muted)">E-Learning</div>
        </div>
      </div>
      <nav>
        <div
          style="font-size:11px;text-transform:uppercase;color:var(--muted);margin-bottom:8px;font-weight:800;letter-spacing:0.5px">
          MÃ³dulo E-Learning</div>
        <a href="Elr-001-clase-virtual.html" class="active">
          <span>ğŸ“š</span> Clases virtuales
        </a>
        <a href="Elr-004-Eliminar-secciones.html">
          <span>ğŸ†</span> GamificaciÃ³n
        </a>
        <a href="REF-002 - GeneraciÃ³n de Reportes Filtrados.html">
          <span>ğŸ’¬</span> Foros
        </a>

        <div style="height:12px"></div>
        <div
          style="font-size:11px;text-transform:uppercase;color:var(--muted);margin-bottom:8px;font-weight:800;letter-spacing:0.5px">
          NavegaciÃ³n Principal</div>
        <a href="index.html"><span>ğŸ </span> Inicio</a>
        <a href="Elr-001-clase-virtual.html"><span>ğŸ‘¨â€ğŸ«</span> Docentes</a>
        <a href="ELRâ€‘005-administrar-clases.html"><span>âš™ï¸</span> Administrador</a>
        <a href="ELRâ€‘005-administrar-clases.html"><span>ğŸ“</span> Estudiantes</a>
        <a href="ELR-042 - Crear Foros de DiscusiÃ³n.html"><span>ğŸ’»</span> E-Learning</a>
      </nav>
    </aside>

  <main class="hero">
    <div class="card">
      <h1>ELR-041: Espacio de GamificaciÃ³n</h1>
      <p class="lead">
        <strong>Historia de usuario:</strong> Como estudiante quiero revisar mi espacio de gamificaciÃ³n para poder ver mis puntos y medallas obtenidas.
      </p>

      <!-- Logros obtenidos -->
      <h3>Mis Puntos y Medallas</h3>
      <div id="logros" class="lista">
        <div class="form-contenido">
          <h3>Medalla: ParticipaciÃ³n</h3>
          <p>Motivo: ParticipaciÃ³n destacada | Fecha: 10/11/2025</p>
          <button onclick="verMedalla('M1')">Ver detalle</button>
        </div>
        <div class="form-contenido">
          <h3>Puntos acumulados</h3>
          <p>Total: 150 puntos</p>
        </div>
      </div>

      <!-- Retos/Misiones disponibles -->
      <h3>Retos y Misiones Disponibles</h3>
      <div id="retos" class="lista">
        <div class="form-contenido">
          <strong>Reto MatemÃ¡ticas</strong><br>
          DescripciÃ³n: Resolver 20 problemas antes del 30/11/2025<br>
          Premio: ğŸ… Medalla de LÃ³gica
        </div>
        <div class="form-contenido">
          <strong>MisiÃ³n Historia</strong><br>
          DescripciÃ³n: Ensayo sobre independencia antes del 25/11/2025<br>
          Premio: ğŸ… Medalla de InvestigaciÃ³n
        </div>
      </div>

      <!-- Pruebas disponibles -->
      <h3>Pruebas de GamificaciÃ³n Disponibles</h3>
      <div id="pruebas" class="lista">
        <div class="form-contenido">
          <strong>Trivia Ciencias</strong><br>
          Preguntas: 10 | Fecha lÃ­mite: 05/12/2025<br>
          Premio: ğŸ… Medalla de Curiosidad
          <p></p>
          <button onclick="verMedalla('M1')">Participar</button>
        </div>
        <div class="form-contenido">
          <strong>Quiz Literatura</strong><br>
          Preguntas: 8 | Fecha lÃ­mite: 07/12/2025<br>
          Premio: ğŸ… Medalla de Creatividad
          <p></p>
          <button onclick="verMedalla('M1')">Participar</button>
        </div>
      </div>

      <!-- Mensajes -->
      <div id="mensaje" class="msg"></div>
    </div>
  </main>

  <footer>
    <div style="max-width:800px;margin:0 auto">
      Â© <span id="year"></span> New Hope Digital Learning
      <span style="color:var(--muted)">VersiÃ³n demo</span>
    </div>
  </footer>
</div>

</body>
</html>


<script>
  const mensaje = document.getElementById('mensaje');
  const resultado = document.getElementById('resultado');
  const lista = document.getElementById('listaGamificacion');

  function verMedalla(id){
    // SimulaciÃ³n de error de conexiÃ³n (10% probabilidad)
    const falloConexion = Math.random() < 0.1;
    if(falloConexion){
      mostrarMensaje('err','No fue posible realizar la acciÃ³n. Intente nuevamente mÃ¡s tarde.');
      return;
    }

    const medalla = document.querySelector(`[data-id="${id}"]`);
    if(!medalla){
      mostrarMensaje('err','No se encontrÃ³ la medalla.');
      return;
    }

    const motivo = medalla.dataset.motivo;
    const fecha = new Date(medalla.dataset.fecha);

    mostrarMensaje('ok','Detalle de la medalla consultado exitosamente.');
    resultado.innerHTML = `<div class="form-contenido">
      <strong>${medalla.querySelector("h3").textContent}</strong><br>
      Motivo: ${motivo}<br>
      Fecha obtenida: ${fecha.toLocaleDateString()}
    </div>`;
  }

  function mostrarMensaje(tipo,texto){
    mensaje.className = 'msg ' + (tipo === 'ok' ? 'ok' : 'err');
    mensaje.textContent = texto;
    mensaje.style.display = 'block';
  }

  // Caso 3: Sin puntos ni medallas
  if(lista.children.length === 0){
    mostrarMensaje('ok','Actualmente no tienes puntos ni medallas. Total: 0');
    resultado.innerHTML = `<div class="form-contenido">
      Puntos: 0<br>
      Medallas: 0
    </div>`;
  }

  // AÃ±o dinÃ¡mico en footer
  document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>