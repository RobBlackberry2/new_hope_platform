<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ELR-001 - Crear Clase Virtual</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="admin-container">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">NHS</div>
        <div>
          <div style="font-weight:700">New Hope School</div>
          <div style="font-size:12px;color:var(--muted)">E-Learning</div>
        </div>
      </div>
      <nav>
        <div
          style="font-size:11px;text-transform:uppercase;color:var(--muted);margin-bottom:8px;font-weight:800;letter-spacing:0.5px">
          MÃ³dulo E-Learning</div>
        <a href="Elr-001-clase-virtual.html" class="active">
          <span>ğŸ“š</span> Clases virtuales
        </a>
        <a href="Elr-004-Eliminar-secciones.html">
          <span>ğŸ†</span> GamificaciÃ³n
        </a>
        <a href="REF-002 - GeneraciÃ³n de Reportes Filtrados.html">
          <span>ğŸ’¬</span> Foros
        </a>

        <div style="height:12px"></div>
        <div
          style="font-size:11px;text-transform:uppercase;color:var(--muted);margin-bottom:8px;font-weight:800;letter-spacing:0.5px">
          NavegaciÃ³n Principal</div>
        <a href="index.html"><span>ğŸ </span> Inicio</a>
        <a href="Elr-001-clase-virtual.html"><span>ğŸ‘¨â€ğŸ«</span> Docentes</a>
        <a href="ELRâ€‘005-administrar-clases.html"><span>âš™ï¸</span> Administrador</a>
        <a href="ELRâ€‘005-administrar-clases.html"><span>ğŸ“</span> Estudiantes</a>
        <a href="Elr-002-visualizar-clases.html"><span>ğŸ’»</span> E-Learning</a>
      </nav>
    </aside>

    <main class="hero">
      <div class="container">
        <div class="card">
          <h1>ELR-001: Crear Clase Virtual</h1>
          <p class="lead"><strong>Historia de usuario:</strong> Como docente quiero crear clases virtuales para
            organizar las lecciones de mi asignatura por semanas dentro de la plataforma.</p>

          <form id="formClase">
            <label>Fecha inicio</label>
            <input type="date" id="fecha_inicio" required />

            <label>Fecha final</label>
            <input type="date" id="fecha_final" required />

            <label>Asignatura</label>
            <input type="text" id="asignatura" required />

            <label>Profesor</label>
            <input type="text" id="profesor" required />

            <label>Nivel AcadÃ©mico</label>
            <select id="nivel_academico" required>
              <option value="">Seleccione</option>
              <option>Septimo</option>
              <option>Octavo</option>
              <option>Noveno</option>
              <option>DÃ©cimo</option>
              <option>UndÃ©cimo</option>
            </select>

            <label>Grupo</label>
            <input type="text" id="grupo" required />

            <button type="submit">Crear Clase Virtual</button>

            <div id="mensaje" class="msg"></div>
          </form>
        </div>
      </div>
    </main>
  </div>

  <footer>
    <div style="max-width:800px;margin:0 auto">Â© <span id="year"></span> New Hope Digital Learning <span
        style="color:var(--muted)">VersiÃ³n demo</span></div>
  </footer>

</body>

</html>

<script>
  const form = document.getElementById('formClase');
  const mensaje = document.getElementById('mensaje');

  const clasesRegistradas = [
    { profesor: "Juan PÃ©rez", grupo: "7-2" }
  ];

  form.addEventListener('submit', function (e) {
    e.preventDefault();

    const datos = {
      fecha_inicio: fecha_inicio.value.trim(),
      fecha_final: fecha_final.value.trim(),
      asignatura: asignatura.value.trim(),
      profesor: profesor.value.trim(),
      nivel_academico: nivel_academico.value.trim(),
      grupo: grupo.value.trim()
    };

    const regexInvalido = /[^a-zA-Z0-9Ã¡Ã©Ã­Ã³ÃºÃÃ‰ÃÃ“ÃšÃ±Ã‘\s\-]/;
    for (const key in datos) {
      if (!datos[key]) {
        mostrarMensaje('err', 'AlgÃºn espacio quedÃ³ en blanco.');
        return;
      }
      if (regexInvalido.test(datos[key])) {
        mostrarMensaje('err', 'Se ingresaron caracteres invÃ¡lidos.');
        return;
      }
    }

    const duplicada = clasesRegistradas.some(c =>
      c.profesor.toLowerCase() === datos.profesor.toLowerCase() &&
      c.grupo.toLowerCase() === datos.grupo.toLowerCase()
    );

    if (duplicada) {
      mostrarMensaje('err', 'La clase virtual ya existe.');
      return;
    }

    mostrarMensaje('ok', 'La clase fue creada exitosamente.');
  });

  function mostrarMensaje(tipo, texto) {
    mensaje.className = 'msg ' + (tipo === 'ok' ? 'ok' : 'err');
    mensaje.textContent = texto;
    mensaje.style.display = 'block';
  }
</script>